#!/usr/bin/python3
# --------------------------------------------------------------------------
# Class definition of Button
#
# Author: Benjamin Fuchs
# License: GPL3
#
# Website: https://github.com/benjaminfuchs/who_disposer
#
# --------------------------------------------------------------------------

import datetime
import smbus
import time


class Sensor():
    """ Sensor class """

    def __init__(self, address):
        """ Constructor """
        self._i2c = smbus.SMBus(1)
        self._address = 0x70

    def distance(self):
        """ get current distance """
        time.sleep(0.12) # 120ms snooze so we only take 5 readings per second
        self._i2c.write_byte_data(self._address, 0, 81)
        distance = self._i2c.read_word_data(self._address, 2) / 255
        time.sleep(0.08)  # 80ms snooze while pinging
        return distance
